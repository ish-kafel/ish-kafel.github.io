<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<script type="text/javascript" src="js/qrcode.js"></script>
	<style>
		@font-face{
	font-family: 'Cuniform';
	src:url(font/NotoSansCuneiform-Regular.woff2) format("woff2");
	unicode-range:U+12000-123FF;
}
button,textarea{
	font-family: 'Cuniform','monospace';
	width: 300;
	font-size: 16;
}
select{
	height: 46;
	width: 50;
	font-size: 16;
	vertical-align: 16.5;
}
</style>
</head>

<body>
	<button onclick="javascript:window.location.href='../'">回首页</button><br>
	<textarea id="text" oninput="makeCode()">Everyday Fighting!</textarea><select id='se' onchange="cha()">
		<option value='L'>低</option>
		<option value='M'>中</option>
		<option value='Q'>优</option>
		<option selected="selected" value="H">高</option>
	</select>
	<div id="qrcode" style="margin-top:15px;"></div>

	<script type="text/javascript">
		var qr = {
			width: 500,
			height: 500,
			colorDark: "#000000",
			colorLight: "#ffffff",
			correctLevel: QRCode.CorrectLevel.H
		}

		var $ = selector => document.querySelector(selector)
		var qrcode = new QRCode($("#qrcode"), qr);

		function cha() {
			var tn = $("#qrcode")
			tn.removeChild(tn.childNodes[0])
			tn.removeChild(tn.childNodes[0])

			var x = $("#se").value;
			qr.correctLevel = QRCode.CorrectLevel[x]

			qrcode = new QRCode($("#qrcode"), qr);
			qrcode.makeCode($("#text").value)
		}

		function makeCode() {
			var elText = $("#text").value;
			qrcode.makeCode(elText);
		}

		makeCode();
	</script>
</body>